<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Map</title>
    <link rel="stylesheet" href="campingStyle.css">

    <style>

        #map {         
        height:400px;
        width: 75%;
        border-style: solid;
        border-width: 5px;
        margin: 10px;
        margin: auto;       
        }
        
    </style>

</head>

<body>

        <nav id="top-menu" class="navbar">
                <span class="open-slide">
                <a href="#" onclick="openSlideMenu()">
                    <svg width = "30" height = "50">
                        <path d = "M0, 5 30, 5" stroke = "#fff" stroke-width = "5"/>
                        <path d = "M0, 14 30, 14" stroke = "#fff" stroke-width = "5"/>
                        <path d = "M0, 23 30, 23" stroke = "#fff" stroke-width = "5"/>
                        <path d = "M0, 32 30, 32" stroke = "#fff" stroke-width = "5"/>
                        <path d = "M0, 41 30, 41" stroke = "#fff" stroke-width = "5"/>
                    </svg>
                </a>
            </span>
        
                <ul class="navbar-nav">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="map.html">Map</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
        
            </nav>
        
            <div id="side-menu" class="side-nav">
                <a href="#" class="btn-close" onclick="closeSlideMenu()">&times;</a>
                <a href="index.html">Home</a>
                <a href="map.html">Map</a>
                <a href="gallery.html">Gallery</a>
                <a href="#">Contact</a>
            </div>
        
            <!--
        
        <div id="main">
            <h1>Responsive Side Menu</h1>
        </div>
        
        -->
        
            <script>
                function openSlideMenu() {
                    document.getElementById("side-menu").style.width = "250px";
                    document.getElementById("side-menu").style.outlineOffset = "5px";
                    document.getElementById("side-menu").style.margin = "10px";
                    //document.getElementById("main").style.marginLeft = "250px";
                    document.getElementById("top-menu").style.height = "0px";
                    document.getElementById("top-menu").style.margin = "0px";
        
                }
        
                function closeSlideMenu() {
                    document.getElementById("side-menu").style.width = "0px";
                    document.getElementById("side-menu").style.outlineOffset = "0px";
                    document.getElementById("side-menu").style.margin = "0px";
                    //document.getElementById("main").style.marginLeft = "0px";
                    document.getElementById("top-menu").style.height = "63px";
                    document.getElementById("top-menu").style.margin = "5px";
                }
            </script>

    <h1>My Google Map</h1>
    <div id="map"></div>
    
    <script>

        function initMap(){
            // Map options
            var options = {
                zoom:5,
                styles: [
                {
                    "featureType": "all",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "all",
                    "elementType": "labels",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "saturation": "-100"
                        }
                    ]
                },
                {
                    "featureType": "all",
                    "elementType": "labels.text.fill",
                    "stylers": [
                        {
                            "saturation": 36
                        },
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 40
                        },
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "all",
                    "elementType": "labels.text.stroke",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 16
                        }
                    ]
                },
                {
                    "featureType": "all",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "administrative",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 20
                        }
                    ]
                },
                {
                    "featureType": "administrative",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 17
                        },
                        {
                            "weight": 1.2
                        }
                    ]
                },
                {
                    "featureType": "landscape",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 20
                        }
                    ]
                },
                {
                    "featureType": "landscape",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#4d6059"
                        }
                    ]
                },
                {
                    "featureType": "landscape",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#4d6059"
                        }
                    ]
                },
                {
                    "featureType": "landscape.natural",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#4d6059"
                        }
                    ]
                },
                {
                    "featureType": "poi",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "lightness": 21
                        }
                    ]
                },
                {
                    "featureType": "poi",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#4d6059"
                        }
                    ]
                },
                {
                    "featureType": "poi",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#4d6059"
                        }
                    ]
                },
                {
                    "featureType": "road",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#7f8d89"
                        }
                    ]
                },
                {
                    "featureType": "road",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        },
                        {
                            "lightness": 17
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        },
                        {
                            "lightness": 29
                        },
                        {
                            "weight": 0.2
                        }
                    ]
                },
                {
                    "featureType": "road.arterial",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 18
                        }
                    ]
                },
                {
                    "featureType": "road.arterial",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        }
                    ]
                },
                {
                    "featureType": "road.arterial",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        }
                    ]
                },
                {
                    "featureType": "road.local",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 16
                        }
                    ]
                },
                {
                    "featureType": "road.local",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        }
                    ]
                },
                {
                    "featureType": "road.local",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#7f8d89"
                        }
                    ]
                },
                {
                    "featureType": "transit",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "color": "#000000"
                        },
                        {
                            "lightness": 19
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "all",
                    "stylers": [
                        {
                            "color": "#2b3638"
                        },
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "color": "#2b3638"
                        },
                        {
                            "lightness": 17
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#24282b"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "color": "#24282b"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "labels",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "labels.text",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "labels.text.fill",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "labels.text.stroke",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "water",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                }
            ]
            }

            //CHANGE CENTRE LOCATION OF MAP CENTRE
            function myFunction(x) {
                if (x.matches) { // If media query matches
                    var map = new google.maps.Map(document.getElementById('map'), {
                    options,
                    center:{lat:-27.782387, lng:117.8605},                
                    });
                } else {
                    var map = new google.maps.Map(document.getElementById('map'), {
                    options,
                    center:{lat:-27.782387, lng:128.607513},                
                    });
                }
            }
            
            var x = window.matchMedia("(max-width: 800px)")
            myFunction(x) // Call listener function at run time
            x.addListener(myFunction) // Attach listener function on state changes


            // ARRAY OF MARKERS - LOCATION, ICON TYPE, MESSAGE BOX
            var markers = [
                {
                coords:{lat:-31.953512, lng:115.857048},
                iconImage:"/icons/beach_icon2.png",
                content:'<h1>Lynn MA</h1>'
                },
                {
                coords:{lat:-28.782387, lng:114.607513},
                iconImage:"/icons/beach_icon2.png",
                content:'<h1>Amesbury MA</h1>'
                },
                {
                coords:{lat:42.7762,lng:-71.0773}
                }
            ];


            // LOOP THROUGH ARRAY ADDING MARKERS
            for(var i = 0;i < markers.length;i++){
                // Add marker
                addMarker(markers[i]);
            }     


            //ADD MARKER FUNCTION
            function addMarker(props){

                var marker = new google.maps.Marker({
                position:props.coords,
                map:map,
                icon:props.iconImage,

                });

                //CREATE INFO WINDOW FOR MARKER
                var infoWindow = new google.maps.InfoWindow({
                content:props.content
                });

                //ALLOW WINDOW TO APPEAR ON MOUSECLICK
                marker.addListener('click', function(){
                infoWindow.open(map, marker);
                });

            }
        }
    </script>

    <!--GOOGLE API SETUP WITH KEY-->    
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCLEi9Ee0AeZLdcztm3jV4UilOe_TrnhQU&callback=initMap">
    </script>

</body>
</html>